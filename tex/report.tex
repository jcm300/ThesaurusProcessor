\documentclass{llncs}
\usepackage[utf8]{inputenc}\usepackage{fancyvrb} \usepackage[portuguese]{babel}
\usepackage{ragged2e}

\begin{document} \mainmatter
\title{Processador de Thesaurus}
\titlerunning{Processador de Thesaurus}
\author{José Carlos Lima Martins A78821 \and
        Miguel Miranda Quaresma A77049}
\authorrunning{José Carlos Lima Martins A78821 \and
        Miguel Miranda Quaresma A77049}
\institute{                                                                
University of Minho, Department of  Informatics, Braga, Portugal\\
e-mail: \{a78821,a77049\}@alunos.uminho.pt
}

\maketitle

\justify

\begin{abstract}
Este documento serve de apoio ao desenvolvimento de um Processador Thesaurus explicando todas as decisões tomadas de modo a obter o mesmo. Inicialmente será explicada a estrutura dos ficheiros de entrada (extensão .mdic) bem como mostradas as decisões tomadas de modo a obter o produto final. Por fim, serão apresentados exemplos de utilização do mesmo.
\end{abstract}

\section{Introdução}
<<<<<<< Updated upstream
O presente projeto (Processador de Thesaurus) visa ser um sistema de processamento de dicionários Thesaurus que recorre a expressões regulares (ERs) para filtrar e transformar os mesmos, extraindo e tratando a informação mais relevante de forma eficiente. Para atingir este objetivo é usada a linguagem de filtragem e tratamento de dados \texttt{AWK} visto ser uma \textbf{DSL}(Domain Specific Language) com foco em dados semi-estruturados.

\section{Preliminares}
De modo a compreender melhor o desenvolvimento deste projeto é importante saber e compreender a estrutura dos dicionários (ficheiros .mdic). 
A estrutura de um dicionário pode ser dividido em três conceitos:
\begin{itemize}
    \item linhas começadas por '\#': comentários a ignorar
    \item diretivas gerais:
        \begin{itemize}
            \item linhas começadas por '\%dom: dominio': indica que até ao aparecimento de nova linha começada por '\%dom:' todos os termos são de 'dominio', sendo dom uma relação e a sua inversa é voc
            \item linhas começadas por '\%inv: relação1 : relação2': indica que a relação1 tem como inversa a relação2
        \end{itemize}
    \item linhas começadas por '\%THE': indicam tabelas de relações, com as seguintes caracteristicas:
        \begin{itemize}
            \item a linha inicial possui as relações bem como as classes da coluna correspondente
            \item cada linha tem 1 ou mais termos, menos a inicial que possui apenas relações e classes
            \item os termos são separados por ':' daqueles com que se relacionam
            \item a relação entre o termo da coluna 1 e da coluna N é dado pela relação N da linha inicial
            \item na presença de vários termos com a mesma relação, podem ser agrupados por '$|$'
            \item quando uma relação na linha inicial possui $<$classe, ou seja 'relação$<$classe', significa que o elementos dessa coluna são instancia da classe
            \item quando '\%THE$<$classe' significa que o termo 1 é instancia da classe
        \end{itemize}
\end{itemize}
Pode-se finalmente, passar ao desenvolvimento do processador Thesaurus.

\section{Desenvolvimento}
\subsection{Exe 1}
O processamento iniciou-se pela identificação dos domínios e relações presentes no dicionário. Para tal, e tendo em conta a estrutura dos documentos, foi usado como \texttt{Field Separator} o carácter ':'.
Tendo a conta a sintaxe de Padrão $\to$ Ação inerente ao \texttt{AWK} foram considerados relevantes os seguintes padrões:
\begin{enumerate}
        \item /\^\%dom/: padrão que identifica novo domínio no início de uma linha
        \item /\^\%THE/: padrão que identifica início de tabela de relações indicadas na presente linha
\end{enumerate}
No caso do padrão /\^\%dom/ a ação compreende a remoção de espaços que precedam o domínio e o armazenamento do mesmo numa matriz \texttt{ind}.
\begin{Verbatim}
    /^%dom/     {sub(/^ /,"",$2); ind[0][$2]++}
\end{Verbatim}
Quando é encontrado o padrão /\^\%THE/ são percorridos todos os campos (\textbf{i.e.}relações) e quando um dada relação não vazia (\texttt{$j != " " && $j!=""}) é encontrada são-lhe removidos os espaços precedentes e subsequentes removendo também, eventualmente, a indicação de classe. De seguinta estaes são também armazenados na matriz \texttt{ind}.
\begin{Verbatim}
/^%THE/     {for(j=2;j<=NF;j++){
                if($j != " " && $j!=""){
                    sub(/^ /,"",$j);           
                    sub(/(\s)|(<(.*)?)/,"",$j);
                    !ind[1][$j]++;
                }                              
             }
            }

\end{Verbatim}

Por fim, quando o final de ficheiro é encontrado (\texttt{EOF}) são impressos os domínios e as relações recorrendo, para isso, às funções \texttt{printDominios} e \texttt{printRelations} respetivamente.

\subsubsection{Usage}

\section{Conclusão}

\end{document}
